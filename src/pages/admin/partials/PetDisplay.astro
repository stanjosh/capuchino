---
const { data, index, oob } = Astro.props;

const pets =  data?.pets || [];


const petTypes = {
  cat: 'ğŸ˜¼',
  dog: 'ğŸ¶',
  bird: 'ğŸ¦',
  fish: 'ğŸ ',
  rabbit: 'ğŸ°',
  hamster: 'ğŸ¹',
  guinea_pig: 'ğŸ¹',
  turtle: 'ğŸ¢',
  snake: 'ğŸ',
  lizard: 'ğŸ¦',
  ferret: 'ğŸ­',
  pig: 'ğŸ·',
  horse: 'ğŸ´',
  goat: 'ğŸ',
  cow: 'ğŸ„',
  sheep: 'ğŸ‘',
  chicken: 'ğŸ”',
  duck: 'ğŸ¦†',
  goose: 'ğŸ¦¢',
  turkey: 'ğŸ¦ƒ',
  other: 'ğŸ¾',
} as Record<string, string>;

const petList = pets.map((pet: {name: string, description: string, type: string}) => (petTypes[pet.type] ?? petTypes['other']) + pet.name ).join(', ');


export const partial = true;
---

<div id={`loc-title-${index}`} hx-swap-oob={oob} style="width: 100%; padding: 5px; display:flex; overflow-x:hidden; justify-content:space-between">
    
    <span>{data?.user?.name ? 'ğŸ˜' + data?.user?.name + ', ': null}{petList}</span>
</div>
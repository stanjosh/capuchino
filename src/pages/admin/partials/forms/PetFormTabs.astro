---
import PetInfoForm from './PetInfoForm.astro'
const { data, index } = Astro.props;

const petData = data?.pets || [];

type Pet = {
  name: string;
  description: string;
  type: string;
}


---



    <ul class="nav nav-tabs me-3" id={`pet-tabs-${index}`} role="tablist">
      { petData.map((pet: Pet, index2: number) => {
        return (
        <li class="nav-item">
          <button class="nav-link" id={`pet-${index}${index2}-tab`} data-bs-toggle="pill" data-bs-target={`#pet-${index}${index2}-content`} type="button" role="tab" aria-controls={`pet-${index}${index2}-content`} aria-selected="false">{pet.name}</button>
        </li>
        );
      
      })}
        <button class="nav-link" id={`pet-${index}-tab`} data-bs-toggle="pill" data-bs-target={`#pet-${index}-create`} type="button" role="tab" aria-controls={`pet-${index}-create`} aria-selected="false">new pet</button>
    </ul>
    <div class="tab-content" id="tabContent">
        { petData.map((pet: Pet, index2: number) => {
          return (
            <div class="tab-pane fade p-3" id={`pet-${index}${index2}-content`} role="tabpanel" aria-labelledby={`pet-${index}${index2}-tab`}>
                <PetInfoForm data={pet} index={index}  id={data?._id}/>
            </div>
          );
        })}
            <div class="tab-pane fade" id={`pet-${index}-create`} role="tabpanel" aria-labelledby={`pet-${index}-tab`}>
                <PetInfoForm index={index} id={data?._id}/>
            </div>
    </div>


